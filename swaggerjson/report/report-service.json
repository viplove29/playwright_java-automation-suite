{"swagger":"2.0","info":{"description":"Service to collect and store reporting data from event publications across the platform.","version":"1","title":"Report Service"},"host":"api.dev.titan.v4af.com","basePath":"/report","tags":[{"name":"policy-report-controller-v-1","description":"Policy Report Controller V 1"},{"name":"report-controller-v-1","description":"Report Controller V 1"}],"paths":{"/report/v1/{productId}/{tenantId}/entities/{entityId}/policies{?pageSize,page}":{"get":{"tags":["policy-report-controller-v-1"],"summary":"Get policies.","description":"Retrieves a page of policies report.","operationId":"getPoliciesUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"name":"pageSize","in":"query","description":"The maximum number of items to include in the response","required":false,"type":"integer","format":"int32"},{"name":"page","in":"query","description":"The page of items to retrieve","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PagedResponseV1«PolicyV1,LimitOffsetPagingInfoV1»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/report/v1/{productId}/{tenantId}/entities/{entityId}/report/policy{?fields,repeat}":{"get":{"tags":["report-controller-v-1"],"summary":"Generates a report where base object is policy","operationId":"getPolicyReportUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"name":"fields","in":"query","description":"Optional comma separated list of fields to include in the report","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"repeat","in":"query","description":"Optional, the results will be repeated this number of times for load-testing purposes. Default is 1","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ReportPolicyV1"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"ContextualIdV1":{"type":"object","properties":{"tenantId":{"type":"string","description":"ID of the Tenant in which the resource is stored"},"entityId":{"type":"string","description":"ID of the Entity in which the resource is stored"},"id":{"type":"string","description":"ID of the resource itself"}}},"ErrorResponseV1":{"type":"object","properties":{"message":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"LimitOffsetPagingInfoV1":{"type":"object","properties":{"method":{"type":"string","description":"The method of paging that this pagingInfo contains","readOnly":true},"numberOfElements":{"type":"integer","format":"int32","description":"The number of data elements in this response.","readOnly":true},"page":{"type":"integer","format":"int32","description":"The page number of the response.","readOnly":true},"pageSize":{"type":"integer","format":"int32","description":"The page size of this response.","readOnly":true},"totalElements":{"type":"integer","format":"int32","description":"The total number of elements","readOnly":true},"totalPages":{"type":"integer","format":"int32","description":"The total number of pages, based on the pageSize and totalElements","readOnly":true}}},"PagedResponseV1«PolicyV1,LimitOffsetPagingInfoV1»":{"type":"object","properties":{"content":{"type":"array","description":"The data elements requested","readOnly":true,"items":{"$ref":"#/definitions/PolicyV1"}},"error":{"description":"This field will contain information about the error if one occurred","readOnly":true,"$ref":"#/definitions/ErrorResponseV1"},"paging":{"description":"The paging method used","readOnly":true,"$ref":"#/definitions/LimitOffsetPagingInfoV1"},"requestId":{"type":"string","description":"The unique ID of this request.","readOnly":true},"spanId":{"type":"string","description":"The unique ID of the span.","readOnly":true},"traceId":{"type":"string","description":"The unique ID of the trace.","readOnly":true}}},"PolicyProductLineOfBusinessV1":{"type":"object","properties":{"productLineOfBusinessId":{"$ref":"#/definitions/ContextualIdV1"},"productLineOfCoverageId":{"$ref":"#/definitions/ContextualIdV1"}}},"PolicyV1":{"type":"object","required":["agencyCommission","agencyCommissionType","carrierId","customerId","effectiveDate","expirationDate","exposureGroupId","policyNumber","policyProductLinesOfBusiness","premium","producerCommission","producerCommissionType"],"properties":{"agencyCommission":{"type":"number","example":"10, representing 10%, or 125.50, representing $125.50","description":"The agency commission amount. Can be a Percentage or Flat value based on the agencyCommissionType field. Entered values should be between 0.00 and 100.00 if Percentage and above 0.00 if Flat."},"agencyCommissionType":{"type":"string","example":"FLAT","description":"The agency commission type. Determines validation for the agencyCommission field.","enum":["FLAT","PERCENTAGE"]},"billingType":{"type":"string","example":"DIRECT","description":"Billing type for the policy. Can be either DIRECT or AGENCY."},"carrierId":{"type":"string","example":"26abdeca-2966-11e9-b210-d663bd873d93","description":"Unique ID of the Writing Carrier."},"carrierName":{"type":"string","example":"Darrell Schneider","description":"Carrier name","readOnly":true},"createdBy":{"type":"string","example":"USER_ID_CARL","description":"The user/role who created the policy.","readOnly":true},"createdOn":{"type":"string","format":"date-time","example":"1970-01-01T00:00:00.000Z","description":"When the policy was created.","readOnly":true},"customerId":{"type":"string","example":"26abdeca-2966-11e9-b210-d663bd873d93","description":"ID of the customer the policy belongs to."},"effectiveDate":{"type":"string","format":"date","example":"1970-01-01","description":"Date when the policy becomes effective."},"entityId":{"type":"string","example":"26abdeca-2966-11e9-b210-d663bd873d93","description":"ID of the entity associated with the policy.","readOnly":true},"expirationDate":{"type":"string","format":"date","example":"1970-01-01","description":"Date when the policy expires."},"exposureGroupId":{"example":"{\"id:\" \"26abdeca-2966-11e9-b210-d663bd873d93\", \"productId:\" \"TITAN\", \"tenantId:\" \"BBT\", \"entityId:\" \"BBT\"}","description":"Unique Contextual ID of the Exposure Group.","$ref":"#/definitions/ContextualIdV1"},"id":{"type":"string","example":"26abdeca-2966-11e9-b210-d663bd873d93","description":"Unique ID of the policy.","readOnly":true},"latestVersionId":{"type":"string","description":"The ID of the most recent policy version. Note that this might be the ID of a non-defininitive version, such as CANCEL_PENDING.","readOnly":true},"lob":{"type":"string","example":"General Liability","description":"Line of business","readOnly":true},"modifiedBy":{"type":"string","example":"USER_ID_CARL","description":"Unique ID of the last user/stream that modified the policy.","readOnly":true},"namedInsureds":{"type":"array","example":"[\"Tyler Fakey\", \"Dan Fakerson\"]","description":"Named Insureds listed on the policy.","items":{"type":"string"}},"policyNumber":{"type":"string","example":"12345","description":"The policy number."},"policyProductLinesOfBusiness":{"type":"array","example":"{\"productLineOfBusinessId:\"  \"{\"id:\" \"26abdeca-2966-11e9-b210-d663bd873d93\", \"tenantId:\" \"BBT\", \"entityId:\" \"BBT\"}\", \"productLineOfCoverageId:\" \"{\"id:\" \"26abdeca-2966-11e9-b210-d663bd873d93\", \"tenantId:\" \"BBT\", \"entityId:\" \"BBT\"}\"}","description":"Lines of business and lines of coverage for the policy.","items":{"$ref":"#/definitions/PolicyProductLineOfBusinessV1"}},"policyStatus":{"type":"string","example":"ACTIVE","description":"Status of the policy.","enum":["ACTIVE","CANCELLED","DRAFT","EXPIRED","FUTURE","VOIDED"]},"premium":{"type":"number","example":100.0,"description":"Annual Premium of the policy."},"producerCommission":{"type":"number","example":"15, representing 15%, or 25.50, representing $25.50","description":"The producer commission amount. Can be a Percentage or Flat value based on the producer commission field. Entered values should be between 0.00 and 100.00 if Percentage and above 0.00 if Flat."},"producerCommissionType":{"type":"string","example":"FLAT","description":"The producer commission type. Determines validation for the producer commission field.","enum":["FLAT","PERCENTAGE"]},"updatedOn":{"type":"string","format":"date-time","example":"1970-01-01T00:00:00.000Z","description":"When the definitive policy version was updated.","readOnly":true}},"description":"This model describes a new or existing policy. Note that fields marked as required are optional on drafts, with the exception of policyStatus."},"ReportPolicyV1":{"type":"object","required":["policyId","productNames","tenantId"],"properties":{"agencyCommission":{"type":"number"},"agencyCommissionType":{"type":"string"},"billingType":{"type":"string"},"businessName":{"type":"string"},"businessPhoneNumber":{"type":"string"},"carrierId":{"type":"string"},"carrierName":{"type":"string"},"createdBy":{"type":"string"},"createdOn":{"type":"string","format":"date-time"},"customerId":{"type":"string"},"customerName":{"type":"string"},"customerNumber":{"type":"string"},"effectiveDate":{"type":"string","format":"date"},"entityId":{"type":"string"},"expirationDate":{"type":"string","format":"date"},"latestVersionId":{"type":"string"},"lob":{"type":"string"},"modifiedBy":{"type":"string"},"namedInsureds":{"type":"array","items":{"type":"string"}},"policyId":{"type":"string"},"policyNumber":{"type":"string"},"policyStatus":{"type":"string"},"premium":{"type":"number"},"producerCommission":{"type":"number"},"producerCommissionType":{"type":"string"},"producerName":{"type":"string"},"productNames":{"type":"array","items":{"type":"string"}},"residentialPhoneNumber":{"type":"string"},"tenantId":{"type":"string"},"updatedOn":{"type":"string","format":"date-time"},"writingCarrierName":{"type":"string"}}}}}