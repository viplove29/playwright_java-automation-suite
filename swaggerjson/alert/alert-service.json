{"swagger":"2.0","info":{"description":"TODO: Please specify the description of this service","version":"1","title":"Alert Service Service API"},"host":"api.dev.titan.v4af.com","basePath":"/alert","tags":[{"name":"alert-preferences-controller-v-1","description":"Alert Preferences Controller V 1"},{"name":"alert-controller-v-1","description":"Alert Controller V 1"}],"paths":{"/alert/v1/{productId}/{tenantId}/entities/{entityId}/alerts":{"post":{"tags":["alert-controller-v-1"],"summary":"Create Alert","description":"Create Alert specified within the body of this request.","operationId":"createAlertUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"in":"body","name":"newAlertV1","description":"A new Alert to be created","required":false,"schema":{"$ref":"#/definitions/AlertV1"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/EmptyResponseV1"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/alert/v1/{productId}/{tenantId}/entities/{entityId}/alerts/dismiss":{"put":{"tags":["alert-controller-v-1"],"summary":"Dismiss Alerts","description":"Dismiss all alerts at & before the given timestamp or alerts with the given IDs","operationId":"dismissAlertsUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"in":"body","name":"dismissRequestV1","description":"A dismiss alert request","required":false,"schema":{"$ref":"#/definitions/DismissRequestV1"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EmptyResponseV1"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/alert/v1/{productId}/{tenantId}/entities/{entityId}/alerts/read":{"post":{"tags":["alert-controller-v-1"],"summary":"Mark Alerts As Read","description":"Mark alerts as read for user","operationId":"markAlertsAsReadUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"in":"body","name":"markAsReadRequestV1","description":"A mark as read alert request","required":false,"schema":{"$ref":"#/definitions/MarkAsReadRequestV1"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EmptyResponseV1"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/alert/v1/{productId}/{tenantId}/entities/{entityId}/alerts{?pageSize,page}":{"get":{"tags":["alert-controller-v-1"],"summary":"Get Alerts for User","description":"Retrieve a page of alerts for the user making the request.","operationId":"getAlertsByUserIdUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"name":"pageSize","in":"query","description":"The maximum number of items to include in the response","required":false,"type":"integer","format":"int32"},{"name":"page","in":"query","description":"The page of items to retrieve","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PagedResponseV1«AlertV1,LimitOffsetPagingInfoV1»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/alert/v1/{productId}/{tenantId}/entities/{entityId}/user-preferences":{"get":{"tags":["alert-preferences-controller-v-1"],"summary":"Get alert user preferences","description":"Retrieves the alert preferences for the calling user","operationId":"getAlertPreferencesUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SingleResponseV1«AlertPreferencesV1»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["alert-preferences-controller-v-1"],"summary":"Replace Alert preferences","description":"Update the Alert preferences specified for the UserId of the calling user.","operationId":"updateAlertPreferencesUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"productId","in":"path","description":"ID of the product for which the request is being made","required":false,"type":"string"},{"name":"tenantId","in":"path","description":"ID of the tenant for which the request is being made","required":false,"type":"string"},{"name":"entityId","in":"path","description":"ID of the entity for which the request is being made","required":false,"type":"string"},{"in":"body","name":"alertPreferencesV1","description":"An alert preference to replace the existing alert preference","required":false,"schema":{"$ref":"#/definitions/AlertPreferencesV1"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EmptyResponseV1"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"AlertPreferenceTypeV1":{"type":"object","required":["enabled","subItems"],"properties":{"enabled":{"type":"boolean","example":true,"description":"User preference enabled"},"subItems":{"type":"object","example":"{downloads:{ \"enabled\": true, subItems: { claimAdd: {\"enabled\": true } } }","description":"Map of user preference name to user preference Type which contains a field \"enabled\" with an optional field of subItems which can have more AlertPreference Types within","additionalProperties":{"$ref":"#/definitions/AlertPreferenceTypeV1"}}}},"AlertPreferencesV1":{"type":"object","properties":{"alertPreferences":{"type":"object","additionalProperties":{"$ref":"#/definitions/AlertPreferenceTypeV1"}}}},"AlertV1":{"type":"object","required":["audience","type"],"properties":{"id":{"type":"string","description":"Unique id of the Alert","readOnly":true},"audience":{"type":"array","description":"List of userIds to send the alert to","items":{"type":"string"}},"type":{"type":"string","description":"Type of alert"},"content":{"description":"Data related to the alert","$ref":"#/definitions/JsonNode"},"readOn":{"type":"string","format":"date-time","description":"Read time of Alert","readOnly":true},"createdOn":{"type":"string","format":"date-time","example":"1970-01-01T00:00:00.000Z","description":"When the Alert was created","readOnly":true},"updatedOn":{"type":"string","format":"date-time","example":"1970-01-01T00:00:00.000Z","description":"When the Alert was last modified","readOnly":true}}},"DismissRequestV1":{"type":"object","properties":{"ids":{"type":"array","description":"List of alert ids to dismiss","items":{"type":"string"}},"timestamp":{"type":"string","format":"date-time","description":"Dismiss all alerts occurring at or before this timestamp"}}},"EmptyResponseV1":{"type":"object","properties":{"error":{"description":"This field will contain information about the error if one occurred","readOnly":true,"$ref":"#/definitions/ErrorResponseV1"},"requestId":{"type":"string","description":"The unique ID of this request.","readOnly":true},"spanId":{"type":"string","description":"The unique ID of the span.","readOnly":true},"traceId":{"type":"string","description":"The unique ID of the trace.","readOnly":true}}},"ErrorResponseV1":{"type":"object","properties":{"message":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"JsonNode":{"type":"object","properties":{"array":{"type":"boolean"},"bigDecimal":{"type":"boolean"},"bigInteger":{"type":"boolean"},"binary":{"type":"boolean"},"boolean":{"type":"boolean"},"containerNode":{"type":"boolean"},"double":{"type":"boolean"},"empty":{"type":"boolean"},"float":{"type":"boolean"},"floatingPointNumber":{"type":"boolean"},"int":{"type":"boolean"},"integralNumber":{"type":"boolean"},"long":{"type":"boolean"},"missingNode":{"type":"boolean"},"nodeType":{"type":"string","enum":["ARRAY","BINARY","BOOLEAN","MISSING","NULL","NUMBER","OBJECT","POJO","STRING"]},"null":{"type":"boolean"},"number":{"type":"boolean"},"object":{"type":"boolean"},"pojo":{"type":"boolean"},"short":{"type":"boolean"},"textual":{"type":"boolean"},"valueNode":{"type":"boolean"}}},"LimitOffsetPagingInfoV1":{"type":"object","properties":{"method":{"type":"string","description":"The method of paging that this pagingInfo contains","readOnly":true},"numberOfElements":{"type":"integer","format":"int32","description":"The number of data elements in this response.","readOnly":true},"page":{"type":"integer","format":"int32","description":"The page number of the response.","readOnly":true},"pageSize":{"type":"integer","format":"int32","description":"The page size of this response.","readOnly":true},"totalElements":{"type":"integer","format":"int32","description":"The total number of elements","readOnly":true},"totalPages":{"type":"integer","format":"int32","description":"The total number of pages, based on the pageSize and totalElements","readOnly":true}}},"MarkAsReadRequestV1":{"type":"object","properties":{"ids":{"type":"array","description":"List of alert ids to mark as read","items":{"type":"string"}},"timestamp":{"type":"string","format":"date-time","description":"Mark as Read all alerts occurring at or before this timestamp"}}},"PagedResponseV1«AlertV1,LimitOffsetPagingInfoV1»":{"type":"object","properties":{"content":{"type":"array","description":"The data elements requested","readOnly":true,"items":{"$ref":"#/definitions/AlertV1"}},"error":{"description":"This field will contain information about the error if one occurred","readOnly":true,"$ref":"#/definitions/ErrorResponseV1"},"paging":{"description":"The paging method used","readOnly":true,"$ref":"#/definitions/LimitOffsetPagingInfoV1"},"requestId":{"type":"string","description":"The unique ID of this request.","readOnly":true},"spanId":{"type":"string","description":"The unique ID of the span.","readOnly":true},"traceId":{"type":"string","description":"The unique ID of the trace.","readOnly":true}}},"SingleResponseV1«AlertPreferencesV1»":{"type":"object","properties":{"content":{"description":"The response data element","readOnly":true,"$ref":"#/definitions/AlertPreferencesV1"},"error":{"description":"This field will contain information about the error if one occurred","readOnly":true,"$ref":"#/definitions/ErrorResponseV1"},"requestId":{"type":"string","description":"The unique ID of this request.","readOnly":true},"spanId":{"type":"string","description":"The unique ID of the span.","readOnly":true},"traceId":{"type":"string","description":"The unique ID of the trace.","readOnly":true}}}}}